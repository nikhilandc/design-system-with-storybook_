import{j as s,c as T}from"./utils-dI9RuKob.js";import{r as c}from"./index-CleY8y_P.js";import{u as de,a as I,c as xe,b as ke,P as le,d as q,e as ge,f as Ce}from"./index-CmtH9lbN.js";import{T as L}from"./Typography-5ESOfgHO.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-C2jgcCTd.js";function ve(e,t){return c.useReducer((r,n)=>t[r][n]??r,e)}var ue=e=>{const{present:t,children:r}=e,n=ye(t),a=typeof r=="function"?r({present:n.isPresent}):c.Children.only(r),o=de(n.ref,Ne(a));return typeof r=="function"||n.isPresent?c.cloneElement(a,{ref:o}):null};ue.displayName="Presence";function ye(e){const[t,r]=c.useState(),n=c.useRef({}),a=c.useRef(e),o=c.useRef("none"),d=e?"mounted":"unmounted",[p,l]=ve(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const i=R(n.current);o.current=p==="mounted"?i:"none"},[p]),I(()=>{const i=n.current,m=a.current;if(m!==e){const u=o.current,f=R(i);e?l("MOUNT"):f==="none"||(i==null?void 0:i.display)==="none"?l("UNMOUNT"):l(m&&u!==f?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,l]),I(()=>{if(t){let i;const m=t.ownerDocument.defaultView??window,x=f=>{const v=R(n.current).includes(f.animationName);if(f.target===t&&v&&(l("ANIMATION_END"),!a.current)){const N=t.style.animationFillMode;t.style.animationFillMode="forwards",i=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=N)})}},u=f=>{f.target===t&&(o.current=R(n.current))};return t.addEventListener("animationstart",u),t.addEventListener("animationcancel",x),t.addEventListener("animationend",x),()=>{m.clearTimeout(i),t.removeEventListener("animationstart",u),t.removeEventListener("animationcancel",x),t.removeEventListener("animationend",x)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(p),ref:c.useCallback(i=>{i&&(n.current=getComputedStyle(i)),r(i)},[])}}function R(e){return(e==null?void 0:e.animationName)||"none"}function Ne(e){var n,a;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var _="Checkbox",[Re,We]=xe(_),[Ee,Se]=Re(_),me=c.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:o,required:d,disabled:p,value:l="on",onCheckedChange:i,form:m,...x}=e,[u,f]=c.useState(null),C=de(t,h=>f(h)),v=c.useRef(!1),N=u?m||!!u.closest("form"):!0,[g=!1,O]=ke({prop:a,defaultProp:o,onChange:i}),be=c.useRef(g);return c.useEffect(()=>{const h=u==null?void 0:u.form;if(h){const y=()=>O(be.current);return h.addEventListener("reset",y),()=>h.removeEventListener("reset",y)}},[u,O]),s.jsxs(Ee,{scope:r,state:g,disabled:p,children:[s.jsx(le.button,{type:"button",role:"checkbox","aria-checked":k(g)?"mixed":g,"aria-required":d,"data-state":he(g),"data-disabled":p?"":void 0,disabled:p,value:l,...x,ref:C,onKeyDown:q(e.onKeyDown,h=>{h.key==="Enter"&&h.preventDefault()}),onClick:q(e.onClick,h=>{O(y=>k(y)?!0:!y),N&&(v.current=h.isPropagationStopped(),v.current||h.stopPropagation())})}),N&&s.jsx(je,{control:u,bubbles:!v.current,name:n,value:l,checked:g,required:d,disabled:p,form:m,style:{transform:"translateX(-100%)"},defaultChecked:k(o)?!1:o})]})});me.displayName=_;var fe="CheckboxIndicator",pe=c.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...a}=e,o=Se(fe,r);return s.jsx(ue,{present:n||k(o.state)||o.state===!0,children:s.jsx(le.span,{"data-state":he(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});pe.displayName=fe;var je=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:a,...o}=e,d=c.useRef(null),p=ge(r),l=Ce(t);c.useEffect(()=>{const m=d.current,x=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(x,"checked").set;if(p!==r&&f){const C=new Event("click",{bubbles:n});m.indeterminate=k(r),f.call(m,k(r)?!1:r),m.dispatchEvent(C)}},[p,r,n]);const i=c.useRef(k(r)?!1:r);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??i.current,...o,tabIndex:-1,ref:d,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function k(e){return e==="indeterminate"}function he(e){return k(e)?"indeterminate":e?"checked":"unchecked"}var we=me,Ae=pe;function Pe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var De=["color"],Me=c.forwardRef(function(e,t){var r=e.color,n=r===void 0?"currentColor":r,a=Pe(e,De);return c.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{ref:t}),c.createElement("path",{d:"M11.4669 3.72684C11.7558 3.91574 11.8369 4.30308 11.648 4.59198L7.39799 11.092C7.29783 11.2452 7.13556 11.3467 6.95402 11.3699C6.77247 11.3931 6.58989 11.3355 6.45446 11.2124L3.70446 8.71241C3.44905 8.48022 3.43023 8.08494 3.66242 7.82953C3.89461 7.57412 4.28989 7.55529 4.5453 7.78749L6.75292 9.79441L10.6018 3.90792C10.7907 3.61902 11.178 3.53795 11.4669 3.72684Z",fill:n,fillRule:"evenodd",clipRule:"evenodd"}))});const b=c.forwardRef(({className:e,label:t,error:r,hint:n,...a},o)=>{const d=a.id||`checkbox-${Math.random().toString(36).substring(2,9)}`;return s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(we,{ref:o,id:d,className:T("peer h-4 w-4 shrink-0 rounded-sm border border-primary","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:opacity-50","data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r?"border-destructive":"border-input",e),"aria-invalid":r?"true":"false","aria-describedby":r?`${d}-error`:n?`${d}-hint`:void 0,...a,children:s.jsx(Ae,{className:T("flex items-center justify-center text-current"),children:s.jsx(Me,{className:"h-3.5 w-3.5"})})}),t&&s.jsx("label",{htmlFor:d,className:T("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r?"text-destructive":"text-foreground"),children:t})]}),r&&s.jsx(L,{variant:"small",className:"text-destructive",id:`${d}-error`,children:r}),n&&!r&&s.jsx(L,{variant:"small",className:"text-muted-foreground",id:`${d}-hint`,children:n})]})});b.displayName="Checkbox";try{b.displayName="Checkbox",b.__docgenInfo={description:"",displayName:"Checkbox",props:{label:{defaultValue:null,description:"",name:"label",required:!1,type:{name:"string"}},error:{defaultValue:null,description:"",name:"error",required:!1,type:{name:"string"}},hint:{defaultValue:null,description:"",name:"hint",required:!1,type:{name:"string"}}}}}catch{}const Ue={title:"Design System/Form/Checkbox",component:b,tags:["autodocs"],parameters:{layout:"centered"},argTypes:{label:{control:"text"},error:{control:"text"},hint:{control:"text"},disabled:{control:"boolean"},checked:{control:"boolean"},defaultChecked:{control:"boolean"},required:{control:"boolean"},onCheckedChange:{action:"checked changed"}},args:{label:"Accept terms and conditions"}},E={},S={args:{defaultChecked:!0}},j={args:{hint:"You must accept the terms to continue"}},w={args:{error:"You must accept the terms to continue"}},A={args:{disabled:!0}},P={args:{disabled:!0,defaultChecked:!0}},D={args:{required:!0,label:"Required field"}},M={render:()=>s.jsxs("div",{className:"flex flex-col space-y-6",children:[s.jsx(b,{label:"Default unchecked"}),s.jsx(b,{label:"Default checked",defaultChecked:!0}),s.jsx(b,{label:"With hint",hint:"This is a helpful hint message"}),s.jsx(b,{label:"With error",error:"This field is required"}),s.jsx(b,{label:"Disabled unchecked",disabled:!0}),s.jsx(b,{label:"Disabled checked",disabled:!0,defaultChecked:!0}),s.jsx(b,{label:"Required checkbox",required:!0})]}),parameters:{layout:"padded"}};var W,U,F;E.parameters={...E.parameters,docs:{...(W=E.parameters)==null?void 0:W.docs,source:{originalSource:"{}",...(F=(U=E.parameters)==null?void 0:U.docs)==null?void 0:F.source}}};var $,H,B;S.parameters={...S.parameters,docs:{...($=S.parameters)==null?void 0:$.docs,source:{originalSource:`{
  args: {
    defaultChecked: true
  }
}`,...(B=(H=S.parameters)==null?void 0:H.docs)==null?void 0:B.source}}};var K,V,Y;j.parameters={...j.parameters,docs:{...(K=j.parameters)==null?void 0:K.docs,source:{originalSource:`{
  args: {
    hint: 'You must accept the terms to continue'
  }
}`,...(Y=(V=j.parameters)==null?void 0:V.docs)==null?void 0:Y.source}}};var z,X,Z;w.parameters={...w.parameters,docs:{...(z=w.parameters)==null?void 0:z.docs,source:{originalSource:`{
  args: {
    error: 'You must accept the terms to continue'
  }
}`,...(Z=(X=w.parameters)==null?void 0:X.docs)==null?void 0:Z.source}}};var G,J,Q;A.parameters={...A.parameters,docs:{...(G=A.parameters)==null?void 0:G.docs,source:{originalSource:`{
  args: {
    disabled: true
  }
}`,...(Q=(J=A.parameters)==null?void 0:J.docs)==null?void 0:Q.source}}};var ee,te,re;P.parameters={...P.parameters,docs:{...(ee=P.parameters)==null?void 0:ee.docs,source:{originalSource:`{
  args: {
    disabled: true,
    defaultChecked: true
  }
}`,...(re=(te=P.parameters)==null?void 0:te.docs)==null?void 0:re.source}}};var ne,ae,oe;D.parameters={...D.parameters,docs:{...(ne=D.parameters)==null?void 0:ne.docs,source:{originalSource:`{
  args: {
    required: true,
    label: 'Required field'
  }
}`,...(oe=(ae=D.parameters)==null?void 0:ae.docs)==null?void 0:oe.source}}};var se,ce,ie;M.parameters={...M.parameters,docs:{...(se=M.parameters)==null?void 0:se.docs,source:{originalSource:`{
  render: () => <div className="flex flex-col space-y-6">
      <Checkbox label="Default unchecked" />
      <Checkbox label="Default checked" defaultChecked />
      <Checkbox label="With hint" hint="This is a helpful hint message" />
      <Checkbox label="With error" error="This field is required" />
      <Checkbox label="Disabled unchecked" disabled />
      <Checkbox label="Disabled checked" disabled defaultChecked />
      <Checkbox label="Required checkbox" required />
    </div>,
  parameters: {
    layout: 'padded'
  }
}`,...(ie=(ce=M.parameters)==null?void 0:ce.docs)==null?void 0:ie.source}}};const Fe=["Default","Checked","WithHint","WithError","Disabled","DisabledChecked","Required","AllStates"];export{M as AllStates,S as Checked,E as Default,A as Disabled,P as DisabledChecked,D as Required,w as WithError,j as WithHint,Fe as __namedExportsOrder,Ue as default};
